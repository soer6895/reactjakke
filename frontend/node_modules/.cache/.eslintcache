[{"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/index.js":"1","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/App.js":"2","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/header.js":"3","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/fontpage.js":"4","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/nfcCon.js":"5","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/staff.js":"6","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/simulatedData.js":"7","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/about.js":"8","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/AuthContext.js":"9","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/PrivateRoute.js":"10","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/LoginPage.js":"11","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/PinEntry.js":"12","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/pinEntry.js":"13"},{"size":467,"mtime":1697092495738,"results":"14","hashOfConfig":"15"},{"size":935,"mtime":1697132626833,"results":"16","hashOfConfig":"15"},{"size":2675,"mtime":1697194058166,"results":"17","hashOfConfig":"15"},{"size":3918,"mtime":1697133568964,"results":"18","hashOfConfig":"15"},{"size":2845,"mtime":1697113924041,"results":"19","hashOfConfig":"15"},{"size":4106,"mtime":1697135115876,"results":"20","hashOfConfig":"15"},{"size":2294,"mtime":1697112953021,"results":"21","hashOfConfig":"15"},{"size":2052,"mtime":1697113499857,"results":"22","hashOfConfig":"15"},{"size":3183,"mtime":1697132393109,"results":"23","hashOfConfig":"15"},{"size":303,"mtime":1697131028517,"results":"24","hashOfConfig":"15"},{"size":2193,"mtime":1697132921248,"results":"25","hashOfConfig":"15"},{"size":1813,"mtime":1697133761612,"results":"26","hashOfConfig":"15"},{"size":1813,"mtime":1697133761612,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"ukpear",{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"31"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/index.js",[],[],["69"],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/App.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/header.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/fontpage.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/nfcCon.js",[],["70"],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/staff.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/simulatedData.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/about.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/AuthContext.js",["71"],[],"import { createContext, useState, useEffect } from \"react\";\nimport jwt_decode from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst AuthContext = createContext();\n\nexport default AuthContext;\n\n\nexport const AuthProvider = ({ children }) => {\n\n    let [authTokens, setAuthTokens] = useState(() => localStorage.getItem(\"authTokens\") ? JSON.parse(localStorage.getItem(\"authTokens\")) : null);\n    let [user, setUser] = useState(() => localStorage.getItem(\"authTokens\") ? jwt_decode(localStorage.getItem(\"authTokens\")) : null);\n    let [loading, setLoading] = useState(false);\n\n    const navigate = useNavigate();\n\n\n    let loginUser = async (e) => {\n        e.preventDefault();\n        console.log(\"Form submitted\");\n        let response = await fetch('http://127.0.0.1:8000/accounts/token/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ 'username': e.target.username.value, 'password': e.target.password.value })\n        })\n        let data = await response.json();\n\n        if (response.status === 200) {\n            setAuthTokens(data);\n            setUser(jwt_decode(data.access))\n            localStorage.setItem(\"authTokens\", JSON.stringify(data));\n            navigate('/')\n        } else {\n            alert(\"Something went wrong\")\n        }\n    }\n\n    let logoutUser = () => {\n        setAuthTokens(null);\n        setUser(null);\n        localStorage.removeItem(\"authTokens\");\n        navigate('/login')\n\n    }\n\n\n    let updateToken = async () => {\n        console.log(\"Updating token called\")\n\n        // Check if refresh token exists\n        if (!authTokens?.refresh) {\n            console.log(\"Refresh token is not present. Logging out...\")\n            logoutUser();\n            return;\n        }\n\n        let response = await fetch('http://127.0.0.1:8000/accounts/token/refresh/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ 'refresh': authTokens.refresh })\n        })\n        let data = await response.json();\n\n        if (response.status === 200) {\n            setAuthTokens(data);\n            setUser(jwt_decode(data.access))\n            localStorage.setItem(\"authTokens\", JSON.stringify(data));\n        } else {\n            console.log(\"Token refresh failed. Logging out...\")\n            logoutUser()\n            if (loading) {\n                setLoading(false)\n            }\n        }\n    }\n\n    let contextData = {\n        user: user,\n        authTokens: authTokens,\n        loginUser: loginUser,\n        logoutUser: logoutUser,\n    }\n\n\n    useEffect(() => {\n        if (loading) {\n            updateToken();\n        }\n        let fourMinutes = 1000 * 60 * 40;\n        let interval = setInterval(() => {\n            if (authTokens) {\n                updateToken();\n            }\n        }, fourMinutes);\n        return () => clearInterval(interval);\n    }, [authTokens, loading]);\n\n\n\n\n    return (\n        <AuthContext.Provider value={contextData}>\n            {loading ? null : children}\n\n        </AuthContext.Provider>\n    )\n}\n","/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/PrivateRoute.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/LoginPage.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/PinEntry.js",[],[],"/Users/sorendahlmann/Desktop/Projekter/reactjakke/frontend/src/pinEntry.js",[],[],{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":2,"message":"75","line":11,"column":30,"nodeType":"76","messageId":"77","endLine":11,"endColumn":40,"suppressions":"78"},{"ruleId":"79","severity":1,"message":"80","line":101,"column":8,"nodeType":"81","endLine":101,"endColumn":29,"suggestions":"82"},"no-new-object",["83"],"no-undef","'NDEFReader' is not defined.","Identifier","undef",["84"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'updateToken'. Either include it or remove the dependency array.","ArrayExpression",["85"],"no-object-constructor",{"kind":"86","justification":"87"},{"desc":"88","fix":"89"},"directive","","Update the dependencies array to be: [authTokens, loading, updateToken]",{"range":"90","text":"91"},[3010,3031],"[authTokens, loading, updateToken]"]